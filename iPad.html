<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>
    <div class="container mt-5">
        <div class="row">
            <div class="col-12 col-md-6">
                <div class="pic">
                    <img src="https://fakeimg.pl/300x200/200" class="w-100" ID="ipad_pic">
                </div>
            </div>
            <div class="col-12 col-md-6 ">
                <div class="sel">
                    <select class="form-select m-3" aria-label="Default select example" id="color">
                        <option selected value="0">顏色</option>
                        <option value="1">太空灰色</option>
                        <option value="2">藍色</option>
                        <option value="3">粉紅色</option>
                        <option value="4">紫色</option>
                        <option value="5">星光色</option>
                    </select>
                    <select class="form-select m-3" aria-label="Default select example" id="net">
                        <option selected value="0">網路</option>
                        <option value="1">Wi-Fi</option>
                        <option value="2">Wi-Fi+行動網路</option>
                    </select>
                    <select class="form-select m-3" aria-label="Default select example" id="ram">
                        <option selected value="0">容量</option>
                        <option value="1">64GB</option>
                        <option value="2">256GB</option>
                    </select>
                </div>
                <div class="text text-center w-100">
                    <p id="price"></p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>

    <script type="module">
        const url    = "https://raw.githubusercontent.com/ObsDIan/FileStorage/master/iPad20.json";

        let data = [];
        let sec_all = document.querySelectorAll('.form-select');
        let color = document.querySelector('#color');
        let net = document.querySelector('#net');
        let ram = document.querySelector('#ram');
        let price = document.querySelector('#price');
        let pic = document.querySelector('#ipad_pic');

        fetch(url).then(response => {
            return response.json();            
        }).then(response => {
            response.forEach(x => {
                data.push(x);
            });
        });

        sec_all.forEach(x => {
            x.addEventListener('change', function() {
                let f = data
                    f = data.filter(x => x.color === color[color.value].innerText && 
                        x.network == net[net.value].innerText &&
                        x.storage == ram[ram.value].innerText)
                    f.forEach(x => {
                        price.innerText = x.price;
                        pic.src = x.picture;
                    });
                    
                    
            });
        });
    </script>
</body>

</html>